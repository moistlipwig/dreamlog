app:
  # Frontend URL for OAuth2 redirects
  # Dev: http://localhost:4200 | Production: leave empty or set to your domain
  frontend:
    url: ${FRONTEND_URL:http://localhost:4200}
    # Path to redirect after successful OAuth2 login
    oauth-success-path: /app

spring:
  application:
    name: dreamlog
  datasource:
    url: jdbc:postgresql://localhost:5432/dreamlog
    username: dream
    password: dream
  jpa:
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
  flyway:
    enabled: true
    locations: classpath:db/migration
    url: ${spring.datasource.url}
    user: ${spring.datasource.username}
    password: ${spring.datasource.password}
  security:
    oauth2:
      client:
        registration:
          google:
            # REQUIRED: Set via environment variables or application-local.yml
            # See OAUTH_SETUP.md for configuration instructions
            client-id: ${GOOGLE_CLIENT_ID:REPLACE_WITH_ACTUAL_GOOGLE_CLIENT_ID}
            client-secret: ${GOOGLE_CLIENT_SECRET:REPLACE_WITH_ACTUAL_GOOGLE_CLIENT_SECRET}
            scope:
              - openid  # Required for OpenID Connect (MUST be lowercase)
              - email
              - profile
          facebook:
            # OPTIONAL: Only if you want Facebook login
            client-id: ${FACEBOOK_CLIENT_ID:REPLACE_WITH_ACTUAL_FACEBOOK_APP_ID}
            client-secret: ${FACEBOOK_CLIENT_SECRET:REPLACE_WITH_ACTUAL_FACEBOOK_APP_SECRET}
            scope:
              - email
              - public_profile
management:
  endpoints:
    web:
      exposure:
        include: health
  endpoint:
    health:
      show-details: always
