<ng-container *ngIf="dream$ | async as dream; else loading">
  <mat-card class="max-w-3xl mx-auto p-4 md:p-8 space-y-4">
    <div>
      <h2 class="text-3xl font-semibold mb-1">{{ dream.title }}</h2>
      <div class="text-sm text-gray-500">{{ dream.date | date }}</div>
    </div>
    <mat-card-content>
      <p class="whitespace-pre-line leading-relaxed">{{ dream.content }}</p>
      <app-tag-chips class="mt-4" [tags]="dream.tags"></app-tag-chips>
    </mat-card-content>
    <mat-card-actions class="flex justify-end">
      <button mat-flat-button color="primary" [routerLink]="['/dreams', dream.id, 'edit']">
        Edit
      </button>
    </mat-card-actions>
  </mat-card>
</ng-container>

<ng-template #loading>
  <div class="max-w-3xl mx-auto p-4 md:p-8">
    <mat-card class="p-4 animate-pulse space-y-4">
      <div class="h-6 bg-gray-200 w-1/3"></div>
      <div class="h-4 bg-gray-200 w-1/4"></div>
      <div class="h-32 bg-gray-100"></div>
    </mat-card>
  </div>
</ng-template>
